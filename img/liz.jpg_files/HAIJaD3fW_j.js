/*!CK:2170001472!*//*1438584832,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["QaSCT"]); }

__d("DesktopHscrollPager",["DesktopHscrollUnitEventConstants"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(){"use strict";}h.prototype.initPager=function(i,j){"use strict";this.$DesktopHscrollPager0=i;this.$DesktopHscrollPager1=j;j.subscribe('next',this.$DesktopHscrollPager0.scrollNext.bind(this.$DesktopHscrollPager0));j.subscribe('prev',this.$DesktopHscrollPager0.scrollPrevious.bind(this.$DesktopHscrollPager0));this.$DesktopHscrollPager0.getArbiter().subscribe('onShow',function(k,l){this.$DesktopHscrollPager2(l.index);}.bind(this));this.$DesktopHscrollPager0.getArbiter().subscribe('onAdditionalItemsAdded',function(k,l){this.$DesktopHscrollPager2(this.$DesktopHscrollPager0.getSelectedIndex());}.bind(this));this.$DesktopHscrollPager0.getArbiter().subscribe(g.HSCROLL_PAGER_ITEM_HIDE_EVENT,function(k,l){this.$DesktopHscrollPager2(l);}.bind(this));};h.prototype.getPagerButtons=function(){"use strict";return this.$DesktopHscrollPager1;};h.prototype.$DesktopHscrollPager2=function(i){"use strict";this.$DesktopHscrollPager1.setPrevEnabled(i>0);this.$DesktopHscrollPager1.setNextEnabled(i<this.$DesktopHscrollPager0.getNumVisibleAds()-1);};e.exports=h;},null);
__d("PadMessageOnAnimateExtension",["Arbiter","CSS","DOM","DOMQuery","PixelNumConverter","Style","csx","cx","getStyleProperty","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q="div._5pbx",r="div._329q",s="div._6m2",t="_1kf5";function u(){"use strict";}u.prototype.init=function(v){"use strict";this.$PadMessageOnAnimateExtension0=v;this.$PadMessageOnAnimateExtension0.getArbiter().subscribe('onAnimate',this.$PadMessageOnAnimateExtension1.bind(this),g.SUBSCRIBE_NEW);};u.prototype.$PadMessageOnAnimateExtension1=function(v,w){"use strict";if(h.hasClass(w.item.ad,t))return;var x=j.scry(w.item.ad,q)[0];if(!x)return;var y=j.scry(w.item.ad,r)[0]||j.scry(w.item.ad,s)[0];if(!y)return;var z=j.scry(w.item.ad,"div._5pbx .text_exposed_root")[0],aa,ba,ca,da;p(function(){aa=k.numValue(o(this.$PadMessageOnAnimateExtension0.getAdContainer(),'padding-bottom'));ca=this.$PadMessageOnAnimateExtension0.getAdContainer().offsetHeight;ba=x.offsetHeight;da=w.item.ad.offsetHeight;}.bind(this),function(){var ea=ca-aa-da;if(z&&!h.hasClass(z,'text_exposed')){h.addClass(z,'text_exposed');var fa=x.offsetHeight-ba;if(fa<=ea){ea-=fa;this.$PadMessageOnAnimateExtension2(z);}else h.removeClass(z,'text_exposed');}l.set(x,'min-height',k.pixelValue(ba+ea));}.bind(this));};u.prototype.$PadMessageOnAnimateExtension2=function(v){"use strict";j.scry(v,'.text_exposed_hide').forEach(function(w){i.remove(w);});j.scry(v,'.text_exposed_link').forEach(function(w){i.remove(w);});j.scry(v,'.text_exposed_show').forEach(function(w){i.replace(w,w.childNodes);});h.removeClass(v,'text_exposed_root');h.removeClass(v,'text_exposed');};e.exports=u;},null);
__d("PageLikeAdScrollOnLikeExtension",["Arbiter","Button","PageLikeConstants"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=750;function k(){"use strict";}k.prototype.init=function(l){"use strict";this.$PageLikeAdScrollOnLikeExtension0=l;var m=this.$PageLikeAdScrollOnLikeExtension0.getPager().getPagerButtons().getRoot().childNodes;this.$PageLikeAdScrollOnLikeExtension1=m[m.length-1];g.subscribe(i.LIKED,this.$PageLikeAdScrollOnLikeExtension2.bind(this),g.SUBSCRIBE_NEW);};k.prototype.$PageLikeAdScrollOnLikeExtension2=function(l,m){"use strict";var n=this.$PageLikeAdScrollOnLikeExtension0.getSelectedItem().ad.getAttribute('data-oid');if(m.profile_id!=n||!h.isEnabled(this.$PageLikeAdScrollOnLikeExtension1))return;var o=this.$PageLikeAdScrollOnLikeExtension0.getPager();o.fetchAdditionalAdsIfNecessary&&o.fetchAdditionalAdsIfNecessary();setTimeout(function(){h.setDepressed(this.$PageLikeAdScrollOnLikeExtension1,true);}.bind(this),j/2);setTimeout(function(){h.setDepressed(this.$PageLikeAdScrollOnLikeExtension1,false);this.$PageLikeAdScrollOnLikeExtension0.getPager().getPagerButtons().inform('next');}.bind(this),j);};e.exports=k;},null);
__d("PagerButtons",["ArbiterMixin","Button","DOMQuery","Event","mixin"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=k(g);for(var m in l)if(l.hasOwnProperty(m))o[m]=l[m];var n=l===null?null:l.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=l;function o(p,q,r){"use strict";l.call(this);this._prev=q;this._next=r;j.listen(p,'click',this._handleClick.bind(this));this._root=p;}o.prototype._handleClick=function(p){"use strict";var q=p.getTarget();if(i.contains(this._prev,q)){if(h.isEnabled(this._prev))this.inform('prev',this._prev);}else if(i.contains(this._next,q))if(h.isEnabled(this._next))this.inform('next',this._next);};o.prototype.setPrevEnabled=function(p){"use strict";h.setEnabled(this._prev,p);return this;};o.prototype.setNextEnabled=function(p){"use strict";h.setEnabled(this._next,p);return this;};o.prototype.getRoot=function(){"use strict";return this._root;};e.exports=o;},null);