/*!CK:182182239!*//*1438591244,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Q2\/V1"]); }

__d("VideoEditEvent",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={JS_LOADED:"js_loaded",PAGE_LOAD_STARTED:"page_loaded_started",PAGE_LOADED:"page_loaded",SAVE_ERROR:"save_error",SAVE_START:"save_start",PREFERRED_THUMBNAIL_CHANGE:"preferred_thumbnail_change",THUMBNAIL_CREATE_STARTED:"thumbnail_create_started",THUMBNAIL_CREATED:"thumbnail_created",SAVE_SUCCESS:"save_success",CTA_UNEXPECTED:"cta_unexpected",CTA_CHANGE_REQUEST:"cta_change_request",VIDEO_DELETE:"video_delete"};},null);
__d("AdsTypeahead.react",["AdsHelpLink.react","AdsValidationIcon.react","AdsValidationIconType","BackgroundImage.react","React","ReactChildren","SearchableEntry","XUICloseButton.react","XUITypeahead.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=k,s=r.PropTypes,t=k.createClass({displayName:"AdsTypeahead",propTypes:{autoHighlight:s.bool,disabled:s.bool,errors:s.array,focusedOnInit:s.bool,onSelectAttempt:s.func,placeholder:s.string,searchSource:s.object.isRequired,selectedEntry:s.instanceOf(m)},getDefaultProps:function(){return {autoHighlight:true};},getInitialState:function(){var u=this.props.selectedEntry;return {queryString:this.props.selectedEntry?u.getTitle():'',focused:!!this.props.focusedOnInit};},componentWillReceiveProps:function(u){if('selectedEntry' in u)this.setState({queryString:u.selectedEntry?u.selectedEntry.getTitle():this.state.queryString});},focusInput:function(){this.setState({focused:true});this.refs.typeahead.focusInput();},render:function(){var u=null,v=null;if(this.props.selectedEntry){u=this.props.selectedEntry;v=this.props.selectedEntry.getPhoto();}var w=Array.isArray(this.props.errors)&&this.props.errors.length?k.createElement("span",{className:"_1fys"},k.createElement(h,{type:i.ERROR_WHITE,messages:this.props.errors})):null,x=q((("_1fyt")+(' '+"_1fyu")+(this.state.focused?' '+"_1fyv":'')+(!!w?' '+"_1fyw":'')),this.props.className),y=this.props.placeholder||'',z=!this.props.selectedEntry||!this.state.queryString,aa=!!this.state.queryString&&!this.props.selectedEntry,ba=null;if(this.props.tooltipHelpText)ba=k.createElement("span",{className:"_1fyx"},k.createElement(g,null,this._getTooltipHelpText()));return (k.createElement("div",{className:x,title:y},k.createElement("div",{className:(("_1fyy")+(!!w?' '+"_1fyz":''))},w,k.createElement("div",{className:((this.props.disabled?"_1fy-":'')+(' '+"_1fy_")+(!!u?' '+"_1fz0":'')+(!!ba?' '+"_1fz1":'')+(!!v?' '+"_1fz2":''))},v&&this._renderPhoto(v),u&&this._renderClearEntry(),!u&&ba,k.createElement(o,{autoHighlight:this.props.autoHighlight,disabled:this.props.disabled,focusedOnInit:this.props.focusedOnInit,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onSelectAttempt:this._onSelectAttempt,placeholder:y,queryString:this.state.queryString,ref:"typeahead",searchSource:this.props.searchSource,selectOnBlur:aa,showEntriesOnFocus:z,viewStyle:"rich"}))),k.createElement("div",null,this.props.children)));},_renderPhoto:function(u){return (k.createElement(j,{className:"_1fz3",src:u,width:24,height:24,backgroundSize:"cover"}));},_renderClearEntry:function(){if(this.props.disabled)return null;return (k.createElement("div",{className:"_1fz4"},k.createElement(n,{onClick:this._onClearEntry})));},_getTooltipHelpText:function(){return l.map(this.props.tooltipHelpText,function(u,v){return k.createElement("p",{className:"_1fz5",key:v},u);});},_onChange:function(event){this.setState({queryString:event.target.value},this._didChange);},_didChange:function(){this.props.selectedEntry&&this.props.onSelectAttempt&&this.props.onSelectAttempt(null);},_onSelectAttempt:function(u){this.props.onSelectAttempt&&this.props.onSelectAttempt(u);},_onClearEntry:function(){this.setState({queryString:''},this._onClear);},_onClear:function(){this.refs.typeahead.focusInput();this.props.onSelectAttempt&&this.props.onSelectAttempt(null);},_onFocus:function(){this.setState({focused:true});},_onBlur:function(){this.setState({focused:false});}});e.exports=t;},null);
__d("AdsPEVideoThumbnailPicker.react",["LeftRight.react","React","ReactChildren","Image.react","XUIButton.react","XUIPagerButtons.react","XUIText.react","clamp","cx","fbt","ix","onlyChild"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=h,t=s.PropTypes,u=h.createClass({displayName:"AdsPEVideoThumbnailPicker",propTypes:{thumbnails:t.arrayOf(t.shape({id:t.string,uri:t.string.isRequired})).isRequired,onChange:t.func.isRequired,index:t.number.isRequired,title:t.string},_prevImage:function(){this._setImageIndex(this.props.index-1);},_nextImage:function(){this._setImageIndex(this.props.index+1);},_setImageIndex:function(v){v=n(0,v,this.props.thumbnails.length-1);if(v!==this.props.index)this.props.onChange(v,this.props.thumbnails[v]);},render:function(){if(this.props.thumbnails.length===0)return null;var v=this.props.index,w=this.props.thumbnails[v].uri,x=null;if(i.count(this.props.children)>0)x=(h.createElement("div",{className:"_w3"},r(this.props.children)));return (h.createElement(g,{className:this.props.className,direction:g.DIRECTION.left},h.createElement("img",{className:"_w9",src:w,alt:this.props.title}),h.createElement("div",{className:"_wf"},h.createElement("div",{className:"_3-95"},h.createElement(l,null,h.createElement(k,{onClick:this._prevImage,image:h.createElement(j,{src:q('/images/ui/x/pager/left.png')}),type:"button"}),h.createElement(k,{onClick:this._nextImage,image:h.createElement(j,{src:q('/images/ui/x/pager/right.png')}),type:"button"})),h.createElement(m,{weight:"bold",className:"_3-9a"},p._("Thumbnail {selected thumbnail index} of {total number of thumbnails}",[p.param("selected thumbnail index",v+1),p.param("total number of thumbnails",this.props.thumbnails.length)]))),x)));}});e.exports=u;},null);
__d("BUIFormButton.react",["BUIForm.react","React","XUIButton.react","invariant"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h.createClass({displayName:"BUIFormButton",propTypes:Object.assign({},i.propTypes,{density:g.propTypes.density}),render:function(){var l=this.props,m=l.density,n=(function(p,q){var r={},s=Object.prototype.hasOwnProperty;if(p==null)throw new TypeError();for(var t in p)if(s.call(p,t)&&!s.call(q,t))r[t]=p[t];return r;})(l,{density:1}),o;switch(m){case 'breathy':case 'svelt':o='xlarge';break;case 'snug':o='large';break;case 'taut':o='medium';break;default:j(true);}return (h.createElement(i,h.__spread({},n,{size:o})));}});e.exports=k;},null);
__d("BUIFormTextInput.react",["BUIForm.react","BUITextInput.react","React","invariant"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=i.createClass({displayName:"BUIFormTextInput",propTypes:Object.assign({},h.propTypes,{density:g.propTypes.density}),render:function(){var l=this.props,m=l.density,n=(function(p,q){var r={},s=Object.prototype.hasOwnProperty;if(p==null)throw new TypeError();for(var t in p)if(s.call(p,t)&&!s.call(q,t))r[t]=p[t];return r;})(l,{density:1}),o;switch(m){case 'breathy':case 'svelt':o='xtall';break;case 'snug':o='tall';break;case 'taut':o='short';break;default:j(true);}return (i.createElement(h,i.__spread({},n,{height:o})));}});e.exports=k;},null);
__d("format",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){i=Array.prototype.slice.call(arguments,1);return h.replace(/\{(\d+)\}/g,function(j,k){var l=i[Number(k)];return (l===null||l===(void 0))?'':l.toString();});}e.exports=g;},null);
__d("DynamicCSS",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=null,h=[],i=0,j={add:function(k){if(!g){var l=document.head||document.getElementsByTagName('head')[0],m=document.createElement('style');m.type='text/css';l.insertBefore(m,l.firstChild);var n=document.styleSheets;for(var o=0,p=n.length;o<p;o++)if(n[o].cssRules||n[o].rules){g=n[o];break;}if(!g)return;}var q=h.length;if(g.addRule){var r=k.match(/(.+?)\s*\{(.+)\}/);g.addRule(r[1],r[2],q);}else g.insertRule(k,q);var s=i++;h.push(s);return {remove:function(){var t=h.indexOf(s);if(t>=0){if(g.removeRule){g.removeRule(t);}else g.deleteRule(t);h.splice(t,1);}}};}};e.exports=j;},null);
__d("VideoContentCategorySelector.react",["React","VideoContentCategoryType","XUISelector.react"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=i.Option,k=g,l=k.PropTypes,m=g.createClass({displayName:"VideoContentCategorySelector",propTypes:{onChange:l.func,value:l.number},render:function(){var n=Object.keys(h),o=n.map(function(p){var q=h[p];return (g.createElement(j,{key:q.value,value:q.value},q.label));});return (g.createElement(i,{onChange:this.props.onChange,value:this.props.value,defaultValue:h.OTHER.value},o));}});e.exports=m;},null);
__d("MentionsInputUtility",["ComposedEntityMutability","ComposedEntityType","DocumentEntity","createEditorStateWithEntities"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=new RegExp(/@\[(\d+):((\\\]|[^\]])+)\]/g),l=new RegExp(/@\[(\d+):(\d+):((\\\]|[^\]])+)\]/g),m=function(o){var p=o.replace(l,'@[$1:$3]'),q=[],r;while(r=k.exec(p)){var s=r[2].replace(/\\:/g,':').replace(/\\]/g,']').replace(/\n/g,''),t={uid:r[1],text:s,offset:r.index,length:s.length,weakreference:false,entity:{uid:r[1],weakreference:false}};q.push(t);p=p.substr(0,t.offset)+t.text+p.substr(t.offset+r[0].length);k.lastIndex=t.offset+t.length;}return {text:p,ranges:q};},n=function(o,p){var q=this.parseTextWithMentions(o),r=q.text,s=q.ranges;return j({text:r,ranges:s,decorator:p,entityCreationFn:function(t){return i.create(h.MENTION,g.IMMUTABLE,{id:t.uid,isWeak:t.weakreference});},splitIntoBlocks:true,allowUndo:true});};e.exports={createFromTextWithMentions:n,parseTextWithMentions:m};},null);
__d("ProgressiveDateAndTimePicker.react",["InlineBlock.react","React","XUIProgressiveDatepicker.react","XUISelector.react","cx","fbt","formatDate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=j.Option,o=h,p=o.PropTypes,q=h.createClass({displayName:"ProgressiveDateAndTimePicker",propTypes:Object.assign({},i.propTypes,{initialHour:p.number,initialMinute:p.number}),getDefaultProps:function(){return {initialHour:-1,initialMinute:-1,maxTime:Date.now()/1000,minTime:(new Date(1906,0,0,0,0)).getTime()/1000};},getInitialState:function(){return {datePickerResult:{year:this.props.initialYear,month:this.props.initialMonth,day:this.props.initialDay},hour:this.props.initialHour,minute:this.props.initialMinute};},onDateChange:function(r){this.setState({datePickerResult:r},this.onDateAndTimeChange);},onDateAndTimeChange:function(){if(!this.props.onDateAndTimeChange)return;var r=this.state.datePickerResult,s=Object.assign({},r,{hour:this.state.hour,minute:this.state.minute});this.props.onDateAndTimeChange(s);},onHourChange:function(event){this.onSelectorChange(event,'hour');},onMinuteChange:function(event){this.onSelectorChange(event,'minute');},onSelectorChange:function(event,r){var s=(event.target)?event.target.value:event.value,t={};t[r]=s;this.setState(t,this.onDateAndTimeChange);},render:function(){var r,s;if(this.state.datePickerResult.day){var t=[h.createElement(n,{key:-1,value:-1},l._("Hour:"))];for(var u=0;u<24;u++){var v=new Date();v.setHours(u);var w=m(v,'g A');t.push(h.createElement(n,{key:u,value:u},w));}r=h.createElement(j,{className:"_5vu1",disabled:!this.state.datePickerResult.day,maxheight:this.props.menuMaxHeight,name:this.props.inputPrefix+'_hour',onChange:this.onHourChange,value:this.state.hour},t);}if(this.state.hour!=-1){var x=[h.createElement(n,{key:-1,value:-1},l._("Minute:"))];for(u=0;u<60;u+=10){var y='00';if(u>0)y=u;x.push(h.createElement(n,{key:u,value:u},y));}s=h.createElement(j,{className:"_5vu1",disabled:this.state.hour==-1,maxheight:this.props.menuMaxHeight,name:this.props.inputPrefix+'_minute',onChange:this.onMinuteChange,value:this.state.minute},x);}return (h.createElement(g,{className:this.props.className},h.createElement(i,h.__spread({},this.props,{onDateChange:this.onDateChange})),r,s));}});e.exports=q;},null);
__d("VideoMultiCaptionDefaultSelector.react",["HelpLink.react","React","Selector.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=i.Option,m=h,n=m.PropTypes,o='video_multi_captions_default_selector_';function p(r){return o+r;}var q=h.createClass({displayName:"VideoMultiCaptionDefaultSelector",propTypes:{defaultLocale:n.string,locales:n.array.isRequired,localesMap:n.object.isRequired},render:function(){var r=this.props.defaultLocale?this.props.defaultLocale:'none',s=(h.createElement(l,{value:'none'},k._("None"))),t=this.props.locales.map(function(v){return (h.createElement(l,{value:v,key:p(v)},this.props.localesMap[v],": ",v));},this),u=(k._("The language will only appear on videos that don't have your preferred caption language available."));return (h.createElement("div",{className:"_3-8n _3eab"},k._("Backup Language"),h.createElement(g,{tooltip:u,alignv:"bottom"}),h.createElement("div",null,h.createElement(i,{name:"default_captions_locale",defaultValue:r},s,t))));}});e.exports=q;},null);
__d("VideoRemovableUploadedCaption.react",["CloseButton.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=h,l=k.PropTypes;function m(o){return 'remove_caption['+o+']';}var n=h.createClass({displayName:"VideoRemovableUploadedCaption",propTypes:{deletekey:l.number.isRequired,locale:l.string.isRequired,localeName:l.string.isRequired},getInitialState:function(){return {removed:false};},render:function(){return (h.createElement("div",{className:"_2phz _4dez"},this.renderRemovableCaption()));},renderRemovableCaption:function(){var o=this.props.locale,p=this.props.localeName;if(this.state.removed)return (h.createElement("div",null,j._("Delete {locale}.",[j.param("locale",o)]),' ',h.createElement("a",{href:"#",onClick:this._handleUndoRemove},j._("Undo")),h.createElement("input",{name:m(this.props.deletekey),type:"hidden",value:o})));return (h.createElement("div",null,h.createElement("span",{className:"_4de-"},p,": ",o),h.createElement(g,{"aria-labelledby":"metadata_caption_remove",className:"_3-99 _4de-",onClick:this._handleRemove,size:"small"})));},_handleRemove:function(){this.setState({removed:true});},_handleUndoRemove:function(){this.setState({removed:false});}});e.exports=n;},null);
__d("VideoMultiCaptionList.react",["React","VideoRemovableUploadedCaption.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m='video_multi_captions_locale_field_';function n(p){return m+p;}var o=g.createClass({displayName:"VideoMultiCaptionList",propTypes:{initialLocales:l.array.isRequired,localesMap:l.object.isRequired},render:function(){if(this.props.initialLocales.length>0)return (g.createElement("div",{className:"_3-8m"},g.createElement("div",{className:"_439x _3-93 _3-8m"},this.renderList())));return (g.createElement("div",{className:"_3-8w"},j._("No captions exist yet")));},renderList:function(){var p=this.props.initialLocales.map(function(q){return (g.createElement(h,{deletekey:this.props.initialLocales.indexOf(q),key:n(q),locale:q,localeName:this.props.localesMap[q]}));},this);return p;}});e.exports=o;},null);
__d("VideoMultiCaptionUploaderList.react",["HelpLink.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k='captions_file',l=h.createClass({displayName:"VideoMultiCaptionUploaderList",render:function(){var m=(j._("Valid SRT files must be used for captions. To replace an SRT file that is already being used for a locale, you must delete the old one first before uploading a new one."));return (h.createElement("div",{className:"_3-8n _15z_"},j._("Upload SRT files"),h.createElement(g,{tooltip:m,alignv:"bottom"}),h.createElement("input",{"aria-labelledby":"metadata_caption",type:"file",name:k})));}});e.exports=l;},null);
__d("VideoMultiCaptionFileInput.react",["React","VideoMultiCaptionDefaultSelector.react","VideoMultiCaptionList.react","VideoMultiCaptionUploaderList.react"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=g,l=k.PropTypes,m=g.createClass({displayName:"VideoMultiCaptionFileInput",propTypes:{defaultLocale:l.string,initialLocales:l.array.isRequired,localesMap:l.object.isRequired},render:function(){var n=null;if(this.props.initialLocales.length)n=(g.createElement(h,{defaultLocale:this.props.defaultLocale,locales:this.props.initialLocales,localesMap:this.props.localesMap}));return (g.createElement("div",null,g.createElement(i,{initialLocales:this.props.initialLocales,localesMap:this.props.localesMap}),n,g.createElement(j,null)));}});e.exports=m;},null);
__d("VideoEditCaptions.react",["React","VideoMultiCaptionFileInput.react"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k=g.createClass({displayName:"VideoEditCaptions",propTypes:{captions:j.object},getDefaultProps:function(){return {captions:[]};},render:function(){var l=this.props.captions,m,n=[],o={};for(var p in l){var q=l[p];if(q.is_default)m=q.locale;n.push(q.locale);o[q.locale]=q.locale_name;}return (g.createElement("div",{className:this.props.className},g.createElement(h,{defaultLocale:m,initialLocales:n,localesMap:o})));}});e.exports=k;},null);
__d("VideoEditLogger",["BanzaiLogger"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={logEvent:function(i,j){g.log('VideoEditLoggerConfig',{event:i,video_id:parseInt(j,10)});}};e.exports=h;},null);
__d("VideoEditMentionsTextArea.react",["AtSignMentionsStrategy","DocumentCompositeMentionsSource","DocumentMentionsSource","MentionsInput.react","MentionsInputUtility","MentionsInputTypeaheadView.react","React","createEmptyEditorState","cx","joinClasses","getMentionsInputDecorator"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=m,s=r.PropTypes,t=m.createClass({displayName:"VideoEditMentionsTextArea",propTypes:{disabled:s.bool},getDefaultProps:function(){return {disabled:false};},getInitialState:function(){var u=new i(g,this.props.searchSource),v=new h([u]),w=this.props.textWithMentions,x;if(this.props.editorState){x=this.props.editorState;}else if(w){x=k.createFromTextWithMentions(w,q());}else x=n(q());this.props.onChange(x);return {compositeMentionsSource:v,editorState:x};},_onChange:function(u){if(this.props.disabled)return;this.setState({editorState:u});this.props.onChange(u);},focus:function(){this.refs.mentionsInput.focus();},render:function(){var u=p("_2oc3",this.props.className);return (m.createElement(j,{className:u,editorState:this.state.editorState,mentionsSource:this.state.compositeMentionsSource,placeholder:this.props.placeholder,typeaheadView:l,typeaheadViewProps:{},onChange:this._onChange,ref:"mentionsInput"}));}});e.exports=t;},null);
__d("VideoEditTokenizer.react",["React","XUITokenizer.react"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k=g.createClass({displayName:"VideoEditTokenizer",propTypes:{disabled:j.bool,onTagsChange:j.func.isRequired},getDefaultProps:function(){return {disabled:false};},getInitialState:function(){return {queryString:''};},onAddTagAttempt:function(l){var m=this.props.entries||[],n=m.indexOf(l);if(n>=0)return;m.push(l);this.props.onTagsChange(m);this.setState({queryString:''});},onRemoveTagAttempt:function(l){var m=this.props.entries||[],n=m.indexOf(l);if(n>=0)m.splice(n,1);this.props.onTagsChange(m);},onQueryStringChange:function(event){if(this.props.disabled){return;}else this.setState({queryString:event.target.value});},render:function(){return (g.createElement(h,g.__spread({},this.props,{onQueryStringChange:this.onQueryStringChange,queryString:this.state.queryString,onAddEntryAttempt:this.onAddTagAttempt,onRemoveEntryAttempt:this.onRemoveTagAttempt})));}});e.exports=k;},null);
__d("VideoThumbnailPicker.react",["AdsPEVideoThumbnailPicker.react","BUIFormButton.react","FileInput.react","Grid.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=j.GridItem,o=k,p=o.PropTypes,q=k.createClass({displayName:"VideoThumbnailPicker",propTypes:{thumbnails:p.arrayOf(p.shape({id:p.string,uri:p.string.isRequired})).isRequired,onPickerChange:p.func.isRequired,index:p.number.isRequired,allowCustomThumbnails:p.bool.isRequired,onFileInputChange:p.func},render:function(){var r=k.createElement(g,{thumbnails:this.props.thumbnails,onChange:this.props.onPickerChange,index:this.props.index,title:m._("Choose a Thumbnail")}),s;if(this.props.allowCustomThumbnails){s=(k.createElement(i,{accept:"image/*",name:"custom_thumbnail",onChange:this.props.onFileInputChange},k.createElement(h,{href:{url:'#'},label:m._("Add Custom Thumbnail")})));}else s=k.createElement("div",null);return (k.createElement(j,{cols:2,spacing:"prl"},k.createElement(n,null,r),k.createElement(n,null,k.createElement("div",{className:"_5nd2"},s))));}});e.exports=q;},null);
__d("VideoEditForm.react",["AdsAPIObjectives","AdsCreativeCallToActionField.react","AdsTextInput.react","AdsTypeahead.react","BUIForm.react","BUIFormButton.react","BUIFormTextInput.react","DOMContainer.react","InlineBlock.react","InputLabel.react","ProgressiveDateAndTimePicker.react","React","SearchableEntry","VideoContentCategorySelector.react","VideoEditCaptions.react","VideoEditEvent","VideoEditLogger","VideoEditMentionsTextArea.react","VideoEditTokenizer.react","VideoThumbnailPicker.react","XUICheckboxInput.react","XUINotice.react","cx","fbt","getMentionsTextForContentState"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){b.__markCompiled&&b.__markCompiled();var fa=k.Element,ga=k.Section,ha=r,ia=ha.PropTypes,ja=a.URL||a.webkitURL||{},ka=r.createClass({displayName:"VideoEditForm",propTypes:{allowCustomThumbnails:ia.bool,canBackdate:ia.bool,canFeature:ia.bool,canPreview:ia.bool,canTag:ia.bool,captions:ia.object,deleteDialogURI:ia.object,description:ia.string,embeddable:ia.bool,error:ia.object,isEncoding:ia.bool,locationEntry:ia.object,mentionsSearchSource:ia.object,notifyWhenProcessed:ia.bool,placesSearchSource:ia.object,preferredThumbnailIndex:ia.number,previewMarkup:ia.object,privacySelector:ia.object,privacyDescription:ia.string,showCaptions:ia.bool,tags:ia.array,tagsSearchSource:ia.object,thumbnails:ia.array,title:ia.string,videoID:ia.string,videoPermalink:ia.string},componentDidMount:function(){w.logEvent(v.JS_LOADED,this.props.videoID);},getInitialState:function(){return {contentCategory:this.props.contentCategory,ctaType:this.props.ctaType,ctaLink:this.props.ctaLink,ctaCaption:this.props.ctaCaption,editorStateContent:this.props.description,locationEntry:this.props.locationEntry?new s(this.props.locationEntry):null,tags:this.props.tags||[],title:this.props.title,embeddable:this.props.embeddable,thumbnails:this.props.thumbnails,thumbnailIndex:this.props.preferredThumbnailIndex-1};},onTitleChange:function(event){this.setState({title:event.target.value});},onDescriptionChange:function(la){this.setState({editorState:la,editorStateContent:ea(la.getCurrentContent())});},onLocationSelectAtempt:function(la){this.setState({locationEntry:la});},getDateTimeKey:function(la){return 'initial'+la.charAt(0).toUpperCase()+la.slice(1);},onTagsChange:function(la){this.setState({tags:la});},onThumbnailPickerChange:function(la){this.setState({thumbnailIndex:la});},onThumbnailImageChange:function(event){if(typeof ja.createObjectURL!=='function')return;var la,ma;if(event.target.files.length===0){la=this.props.thumbnails;ma=(this.state.thumbnailIndex>=la.length)?la.length-1:this.state.thumbnailIndex;}else{la=this.props.thumbnails.concat([{uri:ja.createObjectURL(event.target.files[0])}]);ma=la.length-1;}this.setState({thumbnails:la,thumbnailIndex:ma});},renderTaggerSection:function(){var la=this.state.tags.map(function(na){return na.getUniqueID();}),ma=la.join(',');return (r.createElement(ga,{key:"taggerSection"},r.createElement(fa,{label:da._("In this video"),infoText:da._("Tag people who appear in this video.")},r.createElement(y,{className:"_2dlh",entries:this.state.tags,onTagsChange:this.onTagsChange,searchSource:this.props.tagsSearchSource}),r.createElement("input",{type:"hidden",name:"tags",value:ma}))));},getPlaceInputKeyAndValue:function(){var la=this.state.locationEntry,ma='place_id',na=la?la.getUniqueID():null;if(la&&!na){ma='place_name';na=la.getTitle();}return {key:ma,value:na};},renderDetailsSection:function(){var la=this.getPlaceInputKeyAndValue();return (r.createElement(ga,{key:"detailsSection"},r.createElement(fa,{label:da._("Title")},r.createElement(m,{className:"_2dli",onChange:this.onTitleChange,value:this.state.title,name:"title"})),this.renderThumbnailsFormElement(),r.createElement(fa,{label:da._("Where")},r.createElement(j,{className:"_32bi",autoHighlight:false,placeholder:da._("Where was this video taken?"),selectedEntry:this.state.locationEntry,onSelectAttempt:this.onLocationSelectAtempt,searchSource:this.props.placesSearchSource}),r.createElement("input",{type:"hidden",name:la.key,value:la.value})),this.renderBackdateFormElement(),r.createElement(fa,{label:da._("Description")},r.createElement(x,{searchSource:this.props.mentionsSearchSource,className:"_3smg",editorState:this.state.editorState,textWithMentions:this.props.description,onChange:this.onDescriptionChange}),r.createElement("input",{type:"hidden",name:"description",value:this.state.editorStateContent})),this.renderCaptionsFormElement(),this.renderCallToActionFormElement(),this.renderEmbeddableFormElement(),this.renderContentCategoryFormElement(),r.createElement(fa,{label:da._("Privacy"),infoText:this.props.privacyDescription},r.createElement(o,{className:"_32bj"},r.createElement(n,null,this.props.privacySelector)))));},renderBackdateFormElement:function(){if(!this.props.canBackdate)return r.createElement("div",null);var la={};for(var ma in this.props.backdatedTime){var na=this.getDateTimeKey(ma);la[na]=parseInt(this.props.backdatedTime[ma],10);}return (r.createElement(fa,{label:da._("When")},r.createElement(q,r.__spread({className:"_32bj"},la,{inputPrefix:"backtime",descendingYears:true}))));},renderCaptionsFormElement:function(){if(!this.props.showCaptions)return r.createElement("div",null);return (r.createElement(fa,{label:da._("Captions"),infoText:da._("Upload your .SRT caption file using this format: filename.en_US.srt")},r.createElement(u,{className:"_2dlj",captions:this.props.captions})));},renderThumbnailsFormElement:function(){if(this.props.isEncoding||this.state.thumbnails.length===0)return r.createElement("div",null);var la=r.createElement(z,{thumbnails:this.state.thumbnails,onPickerChange:this.onThumbnailPickerChange,index:this.state.thumbnailIndex,allowCustomThumbnails:this.props.allowCustomThumbnails,onFileInputChange:this.onThumbnailImageChange});return (r.createElement(fa,{className:"_1q0n",label:da._("Thumbnail")},la,r.createElement("input",{type:"hidden",name:"preferred_thumbnail_index",value:this.state.thumbnailIndex+1})));},onProhibitEmbeddableChange:function(event){this.setState({embeddable:!event.target.checked});},renderEmbeddableFormElement:function(){if(this.props.embeddable==null)return r.createElement("span",null);return (r.createElement(fa,{label:da._("Embedding"),infoText:da._("When checked, people cannot embed your video on third-party websites.")},r.createElement(o,{className:"_32bj"},r.createElement("input",{type:"hidden",name:"has_embeddable",value:"true"}),r.createElement("input",{type:"hidden",name:"embeddable",value:this.state.embeddable}),r.createElement(p,{className:"_46oj"},r.createElement(aa,{checked:!this.state.embeddable,onChange:this.onProhibitEmbeddableChange}),r.createElement("label",null,da._("Prohibit embedding"))))));},renderActionsSection:function(){return (r.createElement(ga,{key:"actionsSection"},r.createElement("div",{className:"_59__ mvl"},r.createElement(l,{href:this.props.videoPermalink,label:da._("Cancel")}),r.createElement(l,{href:this.props.deleteDialogURI,label:da._("Delete"),rel:"dialog"}),r.createElement(l,{label:da._("Save"),use:"confirm"}))));},renderCallToActionFormElement:function(){if(!this.props.isOwnerPage||this.props.hideCTA)return r.createElement("span",null);var la=[];if(this.state.ctaType)la=[r.createElement(i,{label:da._("URL (Required)"),placeholder:da._("Enter the Page or URL you want people to visit"),className:"_3-8x",onChange:this._onCtaLinkFieldChange,value:this.state.ctaLink}),r.createElement(i,{label:da._("Link Description"),placeholder:da._("Enter a description of the Page or URL"),helpText:da._("If you're using a long website address, your display link will show a shorter, friendlier URL."),className:"_3-8x",onChange:this._onCtaCaptionFieldChange,value:this.state.ctaCaption}),r.createElement("input",{type:"hidden",name:"cta_link",value:this.state.ctaLink}),r.createElement("input",{type:"hidden",name:"cta_caption",value:this.state.ctaCaption})];return (r.createElement(fa,{label:da._("Call To Action")},r.createElement("div",{className:"_3-95"},da._("Call-to-action buttons will appear after your video starts and will not appear in your preview.")),r.createElement(h,{apiObjective:g.VIDEO_VIEWS,onChange:this._onCtaTypeChange,selectedType:this.state.ctaType,noButtonLabel:da._("No Button")}),r.createElement("input",{type:"hidden",name:"cta_type",value:this.state.ctaType}),la));},_onCtaTypeChange:function(la){this.setState({ctaType:la.value});},_onCtaLinkFieldChange:function(la){this.setState({ctaLink:la});},_onCtaCaptionFieldChange:function(la){this.setState({ctaCaption:la});},renderContentCategoryFormElement:function(){return (r.createElement(fa,{label:da._("Category"),infoText:da._("Select a category that matches the content of your video")},r.createElement("input",{type:"hidden",name:"content_category",value:this.state.contentCategory}),r.createElement(t,{onChange:this._onContentCategoryChange,value:this.state.contentCategory})));},_onContentCategoryChange:function(event){this.setState({contentCategory:event.value});},renderError:function(){if(!this.props.error)return null;return (r.createElement(ba,{use:"warn"},r.createElement(n,null,this.props.error)));},renderEncodingNotice:function(){if(!this.props.isEncoding)return null;return (r.createElement(ba,{use:"notify"},r.createElement("h1",null,da._("This video is currently processing")),da._("You can edit its details here, but you won't be able to choose a thumbnail until processing is complete."),r.createElement(p,null,r.createElement(aa,{name:"alert_when_done",defaultChecked:this.props.notifyWhenProcessed}),r.createElement("label",null,da._("Notify me when my video is done processing")))));},renderPreviewSection:function(){var la=this.props.canFeature?da._("Feature"):da._("Trailer"),ma=this.props.canFeature?null:da._("Mark this video as a trailer to have it show up as a preview for your page in various places on Facebook. You can only have one video marked as a trailer at a time.");return (r.createElement(ga,{key:"previewSection"},r.createElement(fa,{label:la,infoText:ma},r.createElement(n,null,this.props.previewMarkup))));},render:function(){var la=[];if(this.props.canTag)la.push(this.renderTaggerSection());la.push(this.renderDetailsSection());if(this.props.canFeature||this.props.canPreview)la.push(this.renderPreviewSection());la.push(this.renderActionsSection());return (r.createElement("div",null,this.renderError(),this.renderEncodingNotice(),r.createElement(k,{className:"_3slc"},la)));}});e.exports=ka;},null);