/*!CK:3139332760!*//*1438570918,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Cbpu+"]); }

__d("InputAutoCapitalize",["CurrentLocale","Event","Input"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={enable:function(k,l){var m=h.listen(k,'keyup',function(){if(!i.isEmpty(k)){var n=i.getValue(k);l=l||g.get();if(l=='tr_TR'&&n.substr(0,1)=='i'){i.setValue(k,"\u0130"+n.substr(1));}else i.setValue(k,n.substr(0,1).toLocaleUpperCase()+n.substr(1));m.remove();}});}};e.exports=j;},null);
__d("ComposerXPlusTaggerWithOG",["ComposerXOGTaggerBehavior","ComposerXPlusTagger","classWithMixins","mixin"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=i(h,j(g));for(var l in k)if(k.hasOwnProperty(l))n[l]=k[l];var m=k===null?null:k.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=k;function n(){"use strict";if(k!==null)k.apply(this,arguments);}n.prototype.init=function(o){"use strict";m.init.call(this,o);this.initOGTagger(o);};n.prototype.cleanup=function(){"use strict";m.cleanup.call(this);this.cleanupOGTagger();};e.exports=n;},null);
__d("ComposerXInstanceResetter",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){h.instance.reset();}e.exports=g;},null);
__d("ComposerXNUX",["AsyncRequest","ComposerXDragDropUtils","CSS","DOM","Event","SubscriptionsHandler","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o={},p={};function q(s,t,u){var v=u.dataTransfer.items;if(v){var w=h.filterImages(v);if(!w.length)return;}r.acknowledgeDialog(s,t);}var r={CAMERA_NUX:'camera_nux_seen',ADD_MORE_NUX:'add_more_nux_seen',HMU_NUX:'hmu_nux_seen',HMU_POST_NUX:'hmu_post_nux_seen',FACEREC_SUGGESTIONS_NUX:'facerec_suggestions_nux_seen',TAGGING_FLYOUT_NUX:'tagging_flyout_nux_seen',OGCOMPOSER_NEW_ICON_PICKER_NUX:'minutiae_icon_picker_nux_seen',SHARER_MINUTIAE_NUX:'sharer_minutiae_nux_seen',ADD_STICKERS_NUX:'add_stickers_nux_seen',UPCOMING_BIRTHDAYS_NUX:'upcoming_birthdays_nux_seen',onInit:function(s,t,u){if(o[u])return;p[u]=p[u]||new l();var v=p[u];v.engage();var w=s.getRoot();i.addClass(w,"_4bka");var x=j.scry(w,"._3o-a");x.forEach(function(y){v.addSubscriptions(k.listen(y,'click',r.acknowledgeDialog.bind(null,u,s)));});if(u==r.CAMERA_NUX)v.addSubscriptions(k.listen(document,'dragenter',q.bind(null,u,s)));v.addSubscriptions(s.subscribe('cancel',r.sendMarkSeenRequest.bind(null,u)),s.subscribe('hide',v.release.bind(v)));s.setContext(t).show();},acknowledgeDialog:function(s,t){r.sendMarkSeenRequest(s);t.hide();},sendMarkSeenRequest:function(s){if(!o[s]){new g('/ajax/photos/composer/mark_nux_seen.php').setData({type:s}).send();o[s]=true;}},onCleanup:function(s){s.hide();}};e.exports=r;},null);
__d("FileFormDisableInFlight",["Form"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){"use strict";this._form=i;}h.prototype.enable=function(){"use strict";this._subscription=this._form.subscribe(['submit','initial'],this._handle.bind(this));};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;};h.prototype._handle=function(i){"use strict";if(i==='submit'){setTimeout(g.setDisabled.bind(null,this._form.getRoot(),true),0);}else g.setDisabled(this._form.getRoot(),false);};e.exports=h;},null);
__d("TimelineCollectionsCuration",["getContextualParent","CSS","Parent","$","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l={hideAppSection:function(m){var n=g(j(m),true),o=['getTimelineUnitFromChildElement','getMedleyAppSectionFromChildElement'];for(var p=0;p<o.length;p++){var q=l[o[p]](n);if(q)return h.hide(q);}},getTimelineUnitFromChildElement:function(m){return i.byClass(m,'fbTimelineUnit');},getMedleyAppSectionFromChildElement:function(m){return i.byClass(m,"_30f");}};e.exports=l;},null);
__d("OGCollectionAddToggle",["CSS","DOM","Event","TimelineCollectionsCuration","csx","cx","tidyEvent"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n={},o="_91n";function p(r,s,t){g.conditionShow(r,t);g.conditionClass(s,o,t);}var q={initTypeaheadToggleInReport:function(r,s,t){h.prependContent(h.find(j.getTimelineUnitFromChildElement(r),"._5amu"),s);if(n[t]===(void 0)){n[t]=g.hasClass(s,o);}else p(r,s,n[t]);m(i.listen(s,'click',function(u){p(r,s,n[t]=!n[t]);}));}};e.exports=q;},null);
__d("PhotoEditorSaveStates",["requireWeak","Map"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i;g('PhotoEditorGraphic',function(m){i=m.Sticker;});var j=new h(),k=new h(),l={setState:function(m,n){j.set(m,n);},getState:function(m){return j.get(m);},setLoggingData:function(m,n){k.set(m,n);},getLoggingData:function(m){return k.get(m);},getTotalNumOfStickersOnPhoto:function(m){if(j.get(m))return j.get(m).graphics.filter(function(n){return i&&n.type===i;}).length;return 0;}};e.exports=l;},null);
__d("ComposerXComponents",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){"use strict";this.$ComposerXComponents0=h;}g.prototype.getComponents=function(){"use strict";return this.$ComposerXComponents0;};e.exports=g;},null);
__d("HubsTypeaheadView",["Arbiter","AsyncRequest","ContextualTypeaheadView","CSS","DOM","Event","$","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();for(var o in i)if(i.hasOwnProperty(o))q[o]=i[o];var p=i===null?null:i.prototype;q.prototype=Object.create(p);q.prototype.constructor=q;q.__superConstructor__=i;function q(r,s){"use strict";i.call(this,r,s);if(s.allowDedupe)this.subscribe('select',this.selectDuplicates.bind(this));}q.prototype.hide=function(){"use strict";return this.canHide?p.hide.call(this):null;};q.prototype.reset=function(){"use strict";return this.canHide?p.reset.call(this):null;};q.prototype._createFreeFormNode=function(r){"use strict";var s=r;if(this.showCreatePrompt){s=n._("Add \"{partial_name}\"",[n.param("partial_name",r)]);}else if(this.showAltCreatePrompt)s=n._("Create \"{partial_name}\"",[n.param("partial_name",r)]);return {text:s,orig_text:r,type:'addnew calltoaction',uid:'0'};};q.prototype.validateQuery=function(r){"use strict";return this.minQueryLength?r.length>=this.minQueryLength:true;};q.prototype.render=function(r,s,t){"use strict";var u=[],v=Math.max(1,Math.floor(s.length/10));for(var w=v;w<s.length;w++)if(!!s[w].already_added){u.push(s[w]);s.splice(w,1);w--;}s=s.concat(u);if(this.alwaysRender&&r!=='')if(this.allowFreeformEntry){if(this.validateQuery(r))s.push(this._createFreeFormNode(r));}else{var x=r.toLowerCase().trim(),y=false;for(var z=0;z<s.length;z++)if(x==s[z].text.toLowerCase().trim()){y=true;break;}if(!y&&this.validateQuery(r))s.push(this._createFreeFormNode(r));}var aa=s.length;for(var ba=0;ba<s.length;ba++)if(s[ba].uid==false)aa--;if(this.allowDedupe&&aa>1&&r.length>=3)s.push({text:n._("Mark Duplicate Results"),type:'dupelink calltoaction'});return p.render.call(this,r,s,t);};q.prototype.selectDuplicates=function(r,s){"use strict";if(!s.selected.type.match('dupelink'))return;var t=[];for(var u=0;u<this.results.length;u++){if(this.results[u].uid==false)continue;t.push(this.results[u].uid);}var v=g.subscribe('typeahead/'+this.collectionID+'/confirmDupes',function(w,x){var y=this.results.map(function(ba){return ba.uid;});for(var z=0;z<x.dupe_ids.length;z++){var aa=y.indexOf(x.dupe_ids[z]);j.hide(this.items[aa]);}this.hasHiddenDupes=x.dupe_ids.length>0;}.bind(this));g.subscribe('typeahead/'+this.collectionID+'/finishDupes',function(w,x){g.unsubscribe(v);this.canHide=true;this.hasHiddenDupes&&j.hide(k.find(this.content,'.dupelink'));this.hasHiddenDupes=false;}.bind(this));this.canHide=false;new h('/ajax/typeahead/quality/duplicates').setData({ids:t,surface:m('collections_surface').value,collection_id:this.collectionID}).send();};q.initFreeformBoxes=function(){"use strict";var r=k.scry(document,'div.fbAddFormDialog')[0];if(!r)return;var s=k.find(r,'form');l.listen(s,'submit',function(){k.scry(s,'div.fbFreeformInput').forEach(function(t){if(k.find(t,'input.inputtext').value)j.addClass(t.firstChild,'selected');});});};Object.assign(q.prototype,{canHide:true,hasHiddenDupes:false});e.exports=q;},null);
__d("TypeaheadSetPhotoOnSelect",["CSS","DOM","Event"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k){"use strict";this._typeahead=k;}j.prototype.enable=function(){"use strict";var k=h.scry(this._typeahead.getElement(),'.photo')[0];if(k){if(!h.isNodeOfType(k,'img')){var l=h.create('img',{className:k.className});h.replace(k,l);k=l;}var m=g.hide.bind(null,k),n=g.show.bind(null,k);this._eventListener=i.listen(k,{load:n,error:m,abort:m});this._subscription=this._typeahead.subscribe('select',function(o,p){var q=p.selected.photo||this._typeahead.view.fallbackPhoto;q?k.setAttribute('src',q):m();}.bind(this));}};j.prototype.disable=function(){"use strict";this._eventListener.remove();this._eventListener=null;this._typeahead.unsubscribe(this._subscription);this._subscription=null;};Object.assign(j.prototype,{_eventListener:null,_subscription:null});e.exports=j;},null);
__d("legacy:SetPhotoOnSelectTypeaheadBehavior",["TypeaheadSetPhotoOnSelect"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.setPhotoOnSelect=function(h){h.enableBehavior(g);};},3);
__d("TypeaheadShowBootstrapOnFocus",["TypeaheadShowResultsOnFocus"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(k){"use strict";g.call(this,k);this._uids=[];}j.prototype.getMaxBootstrapEntries=function(){"use strict";return 3;};j.prototype.cacheUids=function(){"use strict";return true;};j.prototype.firstFetch=function(k,l,m){"use strict";if(!k.bootstrapping){if(this.cacheUids())this._uids=this.getUidsFromData(m);this.respond(l,m);}};j.prototype.respond=function(k,l){"use strict";if(!k.getValue()){k.setValue('');var m=this.cacheUids()?this._uids:this.getUidsFromData(l),n=l.buildUids(' ',m);l.respond('',n);}};j.prototype.getUidsFromData=function(k){"use strict";var l=k.getAllEntries(),m=[];for(var n in l)if(l[n].bootstrapped)m.push({uid:l[n].uid,index:l[n].index});m.sort(function(o,p){return o.index-p.index;});if(this.getMaxBootstrapEntries())m=m.slice(0,this.getMaxBootstrapEntries());return m.map(function(o){return o.uid;});};e.exports=j;},null);